/* ================================
   ATrL — Dark UI (mobile-first)
   File: assets/css/style.css
   ================================ */

/* ---------- Theme tokens ---------- */
:root {
    --bg: #0d1117;
    --surface: #11161d;
    --surface-2: #141b24;
    --surface-3: #0f141a;
  
    --text: #e6edf3;
    --text-dim: #a1b1c2;
    --muted: #8a98a7;
  
    --primary: #3b82f6;     /* blue-500 */
    --primary-600: #2563eb;
    --accent: #22d3ee;      /* cyan-400 */
    --good: #1a7f37;        /* green */
    --bad: #b42318;         /* red */
    --warn: #f59e0b;        /* amber */
  
    --chip-bg: #0f1722;
    --chip-bg-selected: #153050;
    --chip-text: #c9d6e2;
  
    --border: #1f2b3a;
    --shadow: 0 10px 30px rgba(0,0,0,.35);
  
    --radius: 16px;
    --radius-sm: 10px;
    --radius-lg: 22px;
  
    --pad-1: .5rem;
    --pad-2: .75rem;
    --pad-3: 1rem;
    --pad-4: 1.25rem;
    --pad-5: 1.5rem;
  
    --gap-1: .5rem;
    --gap-2: .75rem;
    --gap-3: 1rem;
  }
  
  /* ---------- Reset / base ---------- */
  *,
  *::before,
  *::after { box-sizing: border-box; }
  
  html, body {
    height: 100%;
    background: var(--bg);
    color: var(--text);
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  a { color: var(--accent); text-decoration: none; }
  a:hover { text-decoration: underline; }
  
  img { max-width: 100%; display: block; }
  
  .hidden { display: none !important; }
  .muted { color: var(--muted); }
  .pos { color: var(--good); }
  .neg { color: var(--bad); }
  
  /* nicer scrollbars on desktop */
  @media (hover:hover) {
    * { scrollbar-width: thin; scrollbar-color: #2a3442 transparent; }
    *::-webkit-scrollbar { height: 8px; width: 8px; }
    *::-webkit-scrollbar-thumb { background: #2a3442; border-radius: 8px; }
    *::-webkit-scrollbar-track { background: transparent; }
  }
  
  /* ---------- App layout ---------- */
  .app {
    min-height: 100%;
    padding-bottom: 64px; /* bottom-nav space */
  }
  
  .app-header {
    position: sticky;
    top: 0;
    z-index: 20;
    background: linear-gradient(0deg, rgba(13,17,23,0), rgba(13,17,23,.9)), var(--bg);
    padding: var(--pad-3) var(--pad-3) var(--pad-2);
    backdrop-filter: saturate(140%) blur(6px);
    border-bottom: 1px solid rgba(255,255,255,.04);
  }
  
  .main {
    padding: var(--pad-3);
    display: grid;
    gap: var(--gap-3);
    max-width: 960px;
    margin: 0 auto;
  }
  
  /* ---------- Chips / filters ---------- */
  .chip-row,
  .league-chips {
    display: flex;
    flex-wrap: wrap;
    gap: .5rem;
    margin-top: .25rem;
  }
  
  .chip {
    appearance: none;
    border: 1px solid var(--border);
    background: var(--chip-bg);
    color: var(--chip-text);
    padding: .35rem .7rem;
    border-radius: 999px;
    font-size: .9rem;
    line-height: 1;
    cursor: pointer;
    transition: transform .05s ease, background .2s ease, border-color .2s ease;
  }
  .chip:active { transform: translateY(1px); }
  .chip--selected {
    background: linear-gradient(180deg, var(--chip-bg-selected), #10253d);
    border-color: #294360;
    color: #eaf3ff;
  }
  
  /* ---------- Cards ---------- */
  .card {
    background: linear-gradient(180deg, var(--surface-2), var(--surface));
    border: 1px solid var(--border);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    overflow: hidden;
  }
  
  .card-header {
    padding: var(--pad-3);
    border-bottom: 1px solid var(--border);
    background: var(--surface-3);
  }
  .card-title {
    margin: 0;
    font-size: 1.05rem;
    font-weight: 600;
    letter-spacing: .2px;
  }
  .card-body {
    padding: var(--pad-3);
    display: grid;
    gap: var(--gap-2);
  }
  
  /* ---------- Stats ---------- */
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(3, minmax(0,1fr));
    gap: var(--gap-2);
  }
  @media (min-width: 480px) {
    .stats-grid { grid-template-columns: repeat(6, minmax(0,1fr)); }
  }
  
  .stat {
    background: var(--surface-2);
    border: 1px solid var(--border);
    border-radius: var(--radius-sm);
    padding: .7rem .8rem;
    display: grid;
    gap: .25rem;
  }
  .stat-label {
    font-size: .75rem;
    color: var(--text-dim);
    letter-spacing: .3px;
    text-transform: uppercase;
  }
  .stat-value {
    font-size: 1rem;
    font-weight: 600;
  }
  
  .stats-row {
    display: flex;
    flex-wrap: wrap;
    gap: .5rem;
  }
  .stat-pill {
    background: var(--surface-2);
    border: 1px solid var(--border);
    border-radius: 999px;
    padding: .4rem .7rem;
    font-size: .9rem;
    color: var(--text-dim);
  }
  .stat-pill b { color: var(--text); }
  
  /* ---------- Rows / lists ---------- */
  .row-item {
    display: grid;
    grid-template-columns: 1fr auto;
    align-items: center;
    gap: .75rem;
    padding: .75rem .5rem;
    border-bottom: 1px dashed rgba(255,255,255,.06);
  }
  .row-item:last-child { border-bottom: none; }
  
  .row-main { display: grid; gap: .25rem; }
  .row-title { font-weight: 600; }
  .row-sub { font-size: .85rem; color: var(--text-dim); }
  .row-value { font-weight: 600; text-align: right; }
  
  /* ---------- Trade card ---------- */
  .trade-card {
    background: var(--surface-2);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: var(--pad-3);
    display: grid;
    gap: .75rem;
  }
  
  .trade-card-header {
    display: grid;
    gap: .25rem;
  }
  .trade-card-title { font-weight: 700; }
  .trade-card-meta { color: var(--text-dim); font-size: .9rem; }
  
  .trade-card-subtitle {
    color: var(--text-dim);
    font-size: .95rem;
  }
  
  .trade-card-stats {
    display: grid;
    grid-template-columns: repeat(3, minmax(0,1fr));
    gap: .5rem;
  }
  @media (min-width: 480px) {
    .trade-card-stats { grid-template-columns: repeat(6, minmax(0,1fr)); }
  }
  
  .trade-card-actions {
    display: flex;
    gap: .5rem;
    flex-wrap: wrap;
  }
  
  /* legs list inside a card */
  .trade-card-legs {
    margin-top: .25rem;
    display: grid;
    gap: .35rem;
  }
  .leg-row {
    display: grid;
    grid-template-columns: auto auto auto auto 1fr auto auto;
    gap: .5rem;
    align-items: center;
    padding: .35rem .5rem;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 10px;
    font-size: .92rem;
  }
  .leg-type { width: 1.2rem; text-align: center; }
  .leg-pnl { font-weight: 600; }
  .leg-actions { display: flex; gap: .4rem; justify-content: flex-end; }
  
  /* ---------- Wallet compact ---------- */
  .wallet-mini {
    display: grid;
    grid-template-columns: 1fr auto;
    gap: .75rem;
    align-items: center;
    padding: .8rem .9rem;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    background: linear-gradient(180deg, var(--surface-2), var(--surface));
  }
  .wallet-mini-title { font-weight: 600; }
  .wallet-mini-balance { font-weight: 700; font-size: 1.05rem; }
  .wallet-mini .delta { font-weight: 600; margin-left: .4rem; color: var(--text-dim); }
  .wallet-mini-spark { width: 160px; height: 48px; opacity: .9; }
  
  /* ---------- Inputs & controls ---------- */
  .input {
    width: 100%;
    background: #0c1218;
    color: var(--text);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: .6rem .7rem;
    font-size: 1rem;
    outline: none;
    transition: border-color .2s ease, box-shadow .2s ease;
  }
  .input::placeholder { color: #5b6a79; }
  .input:focus {
    border-color: #2c4a6a;
    box-shadow: 0 0 0 3px rgba(59,130,246,.18);
  }
  .input--xs { padding: .35rem .45rem; font-size: .9rem; }
  
  .number-group {
    display: inline-flex;
    align-items: center;
    border: 1px solid var(--border);
    border-radius: 12px;
    overflow: hidden;
    background: #0c1218;
  }
  .number-group .input {
    border: none;
    border-radius: 0;
    width: 120px;
    min-width: 78px;
  }
  .btn-step {
    appearance: none;
    border: none;
    background: var(--surface-3);
    color: var(--text);
    padding: .45rem .6rem;
    font-weight: 700;
    cursor: pointer;
  }
  .btn-step:active { background: #0c1218; }
  
  .lbl { color: var(--text-dim); font-size: .9rem; margin-bottom: .25rem; display: inline-block; }
  .hint { color: var(--muted); font-size: .8rem; margin-top: .25rem; }
  
  .row { display: grid; gap: .35rem; margin-bottom: .5rem; }
  .btn-row { display: flex; gap: .4rem; }
  
  .btn {
    appearance: none;
    border: 1px solid var(--border);
    background: #112236;
    color: var(--text);
    padding: .55rem .8rem;
    font-size: .95rem;
    border-radius: 12px;
    cursor: pointer;
    transition: background .2s ease, border-color .2s ease, transform .05s ease;
  }
  .btn:hover { border-color: #2a4462; }
  .btn:active { transform: translateY(1px); }
  
  .btn-primary {
    background: linear-gradient(180deg, var(--primary), var(--primary-600));
    border-color: #1e40af;
    color: #fff;
  }
  .btn-small { padding: .4rem .6rem; font-size: .9rem; }
  .btn-tiny { padding: .25rem .45rem; font-size: .85rem; }
  .icon-btn {
    background: transparent;
    border: 1px solid var(--border);
    color: var(--text);
    padding: .25rem .4rem;
    border-radius: 10px;
    cursor: pointer;
  }
  
  /* autofocus highlight (when we programmatically focus first field) */
  :focus-visible {
    outline: 2px solid rgba(34,211,238,.45);
    outline-offset: 2px;
    border-radius: 12px;
  }
  
  /* ---------- Tags ---------- */
  .tag {
    display: inline-block;
    padding: .1rem .45rem;
    border-radius: 999px;
    background: #0f2536;
    border: 1px solid #183248;
    color: #d1e7ff;
    font-size: .8rem;
    vertical-align: middle;
  }
  
  /* ---------- Empty state ---------- */
  .empty {
    padding: var(--pad-3);
    text-align: center;
    color: var(--text-dim);
  }
  
  /* ---------- Heroes (player/team) ---------- */
  .player-hero, .team-hero {
    display: grid;
    gap: .25rem;
    padding-top: .4rem;
  }
  .player-rank, .team-rank {
    font-size: 1.9rem;
    font-weight: 800;
    letter-spacing: .5px;
  }
  .player-title, .team-title {
    font-size: 1.15rem;
    font-weight: 600;
  }
  .player-meta { color: var(--text-dim); }
  
  /* ---------- Round banner ---------- */
  .round-banner {
    margin-top: .35rem;
    color: var(--text-dim);
    font-size: .92rem;
  }
  
  /* ---------- Bottom nav (emoji icons) ---------- */
  .bottom-nav {
    position: sticky;
    bottom: 0;
    z-index: 30;
    backdrop-filter: blur(6px) saturate(120%);
    background: linear-gradient(180deg, rgba(15,20,27,.7), rgba(15,20,27,.92));
    border-top: 1px solid rgba(255,255,255,.06);
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    align-items: center;
    padding: .35rem env(safe-area-inset-left, 8px) .45rem env(safe-area-inset-right, 8px);
  }
  
  .nav-item {
    text-align: center;
    padding: .4rem 0;
    font-size: 1.25rem;
    color: #bdd2e6;
    border-radius: 10px;
  }
  .nav-item--active {
    background: #102133;
    color: #fff;
    border: 1px solid #1e3a59;
  }
  
  /* ---------- Tables (Standings / Scrips) ---------- */
  .table-wrap {
    overflow-x: auto;
    border: 1px solid var(--border);
    border-radius: var(--radius);
  }
  .table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    min-width: 640px;
    background: var(--surface);
  }
  .table thead th {
    position: sticky; top: 0;
    background: var(--surface-3);
    color: var(--text-dim);
    text-align: left;
    font-weight: 600;
    font-size: .85rem;
    letter-spacing: .3px;
    padding: .6rem .7rem;
    border-bottom: 1px solid var(--border);
  }
  .table tbody td {
    padding: .6rem .7rem;
    border-bottom: 1px dashed rgba(255,255,255,.06);
  }
  .table tbody tr:last-child td { border-bottom: none; }
  .table tbody tr:hover td { background: #0f1822; }
  
  /* ---------- Small utilities ---------- */
  .grid-2 { display: grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap: var(--gap-2); }
  .grid-3 { display: grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: var(--gap-2); }
  
  /* ---------- Tooltips (optional) ---------- */
  [title] { position: relative; }
  [title]:hover::after {
    content: attr(title);
    position: absolute;
    left: 50%; transform: translateX(-50%);
    bottom: calc(100% + .5rem);
    white-space: nowrap;
    font-size: .8rem;
    background: #06101a;
    color: var(--text);
    border: 1px solid var(--border);
    padding: .25rem .45rem;
    border-radius: 8px;
    box-shadow: var(--shadow);
    opacity: .95;
    pointer-events: none;
  }
  


  /* ---------- Animations (subtle) ---------- */
  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(6px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  .card, .trade-card, .row-item, .wallet-mini { animation: fadeInUp .18s ease both; }
  
  /* ---------- Print safety ---------- */
  @media print { .bottom-nav, .chip-row, .league-chips { display: none !important; } }
  
/* === Add-page fixes: universal dark inputs, disable native spinners, sizing === */
.app input[type="number"],
.app input[type="text"],
.app input[type="search"],
.app input[type="datetime-local"],
.app select,
.app textarea {
  background: #0c1218;
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: 10px;
}

/* kill native number spinners */
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
input[type="number"] { -moz-appearance: textfield; }

.number-group { width: 100%; }
.number-group .input { width: 100%; min-width: 0; }

/* prevent grid items from overflowing so they don’t overlap */
.grid-2 .row, .grid-3 .row { min-width: 0; }
